<!DOCTYPE html>
<html>
    <body>
     
        <section style="background-color: lightblue;">
        <h2 class="mb-2 text-3xl font-bold text-gray-900 dark:text-white">SMART PET FEEDER CODESAND THEIR DESCRIPTION</h2>
        <P>
            This is the declaration of the codes where we introduce the libraries of the sensors such as weight sensor and others
            and the declaration of the pins and others (library declaration,and pins)
        </P>
            <pre>
                <code>
                    <pre>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><font color="#000000">HX711</font><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><b><font color="#d35400">Servo</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>

<font color="#434f54">&#47;&#47; Pin configuration</font>
<font color="#5e6d03">#define</font> <font color="#000000">TRIG_PIN</font> <font color="#000000">7</font>
<font color="#5e6d03">#define</font> <font color="#000000">ECHO_PIN</font> <font color="#000000">6</font>
<font color="#5e6d03">#define</font> <font color="#000000">WATER_SENSOR_PIN</font> <font color="#000000">A0</font>
<font color="#5e6d03">#define</font> <font color="#000000">SERVO_PIN</font> <font color="#000000">9</font>
<font color="#5e6d03">#define</font> <font color="#000000">DOUT</font> <font color="#000000">3</font>
<font color="#5e6d03">#define</font> <font color="#000000">CLK</font> <font color="#000000">2</font>

<font color="#434f54">&#47;&#47; Thresholds (you can calibrate these)</font>
<font color="#5e6d03">#define</font> <font color="#000000">DISTANCE_THRESHOLD</font> <font color="#000000">15</font> &nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; in cm</font>
<font color="#5e6d03">#define</font> <font color="#000000">WATER_THRESHOLD</font> <font color="#000000">400</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; analog value</font>
<font color="#5e6d03">#define</font> <font color="#000000">FOOD_WEIGHT_THRESHOLD</font> <font color="#000000">50</font> &nbsp;<font color="#434f54">&#47;&#47; grams</font>
</pre>
                </code>
            </section>

            <section style="background-color: red">
                <p> This section comes to identify the actuactor and set up functioning as plays a crucial role in initializing the program's environment and preparing it for execution. Its primary function is to execute code only once at the very beginning of the program's lifecycle. </p>
                <pre>
                <code>

<font color="#434f54">&#47;&#47; Create objects</font>
<font color="#000000">HX711</font> <font color="#000000">scale</font><font color="#000000">;</font>
<b><font color="#d35400">Servo</font></b> <font color="#000000">servo</font><font color="#000000">;</font>

<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">9600</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#434f54">&#47;&#47; HX711 initialization</font>
 &nbsp;<font color="#000000">scale</font><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">DOUT</font><font color="#434f54">,</font> <font color="#000000">CLK</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">scale</font><font color="#434f54">.</font><font color="#000000">set_scale</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;<font color="#434f54">&#47;&#47; Put calibration factor here</font>
 &nbsp;<font color="#000000">scale</font><font color="#434f54">.</font><font color="#000000">tare</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; Reset scale to 0</font>

 &nbsp;<font color="#434f54">&#47;&#47; Ultrasonic pins</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">TRIG_PIN</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">ECHO_PIN</font><font color="#434f54">,</font> <font color="#00979c">INPUT</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#434f54">&#47;&#47; Servo init</font>
 &nbsp;<font color="#000000">servo</font><font color="#434f54">.</font><font color="#d35400">attach</font><font color="#000000">(</font><font color="#000000">SERVO_PIN</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">servo</font><font color="#434f54">.</font><font color="#d35400">write</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; Close position</font>
<font color="#000000">}</font>
</pre>
                </code>
</section>

<section style="background-color:blueviolet">
    <pre>
        <code>
            <p>
                this is the section that is responsible for reading the values of the sensors
                such as weight sensor ,ultrasonic snic sensor,and othersThe void loop() function plays a central and essential role in programming environments like Arduino.
                 Its primary function is to provide a continuous execution cycle for the main program logic.
                 After all we the program is exectuded....
            </p>
<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#00979c">long</font> <font color="#000000">distance</font> <font color="#434f54">=</font> <font color="#000000">getDistance</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#00979c">int</font> <font color="#000000">waterLevel</font> <font color="#434f54">=</font> <font color="#d35400">analogRead</font><font color="#000000">(</font><font color="#000000">WATER_SENSOR_PIN</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#00979c">float</font> <font color="#000000">foodWeight</font> <font color="#434f54">=</font> <font color="#000000">scale</font><font color="#434f54">.</font><font color="#000000">get_units</font><font color="#000000">(</font><font color="#000000">5</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; Get average of 5 readings</font>

 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;Distance: &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">distance</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34; cm | Water Level: &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">waterLevel</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34; | Food Weight: &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">foodWeight</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34; g&#34;</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">distance</font> <font color="#434f54">&lt;</font> <font color="#000000">DISTANCE_THRESHOLD</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">foodWeight</font> <font color="#434f54">&lt;</font> <font color="#000000">FOOD_WEIGHT_THRESHOLD</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">dispenseFood</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 </code>
 </pre>
 </section>
<section style="background-color:aqua">
    <pre>
<code>
    <p>This is the main function of the loop where all functions are being runned such as checking whether the pet is near
        and checking the water lever and weight of the food and others</p>
        
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">waterLevel</font> <font color="#434f54">&lt;</font> <font color="#000000">WATER_THRESHOLD</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">dispenseWater</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;<font color="#000000">}</font>

 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">3000</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; Delay between checks</font>
<font color="#000000">}</font>

<font color="#00979c">long</font> <font color="#000000">getDistance</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">TRIG_PIN</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">2</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">TRIG_PIN</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">TRIG_PIN</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#00979c">long</font> <font color="#000000">duration</font> <font color="#434f54">=</font> <font color="#d35400">pulseIn</font><font color="#000000">(</font><font color="#000000">ECHO_PIN</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#5e6d03">return</font> <font color="#000000">duration</font> <font color="#434f54">*</font> <font color="#000000">0.034</font> <font color="#434f54">&#47;</font> <font color="#000000">2</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; cm</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#000000">dispenseFood</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34;Dispensing food...&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">servo</font><font color="#434f54">.</font><font color="#d35400">write</font><font color="#000000">(</font><font color="#000000">90</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; Open position</font>
 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">1000</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; Adjust duration as needed</font>
 &nbsp;<font color="#000000">servo</font><font color="#434f54">.</font><font color="#d35400">write</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;<font color="#434f54">&#47;&#47; Close</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#000000">dispenseWater</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34;Dispensing water...&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">servo</font><font color="#434f54">.</font><font color="#d35400">write</font><font color="#000000">(</font><font color="#000000">45</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47; Slight open</font>
 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">1000</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; Adjust duration</font>
 &nbsp;<font color="#000000">servo</font><font color="#434f54">.</font><font color="#d35400">write</font><font color="#000000">(</font><font color="#000000">0</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;<font color="#434f54">&#47;&#47; Close</font>
<font color="#000000">}</font>
</code>
</pre>
</section>
</pre>
                </code>
                
            
        </section>
    </body>
</html>